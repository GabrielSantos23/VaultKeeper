# Changelog - VaultKeeper

## 1.0.5 - 2026-01-19

### Added
- **App-Extension Auto-Sync**: Implemented database file monitoring (`vault.db`) using `QFileSystemWatcher` in the Desktop App. Changes made by the extension (like saving a new password) are now automatically reflected in the app without restarting.
- **Smart Domain Matching**: Enhanced credential search logic (`get_credentials_by_domain`) to support hierarchical matching.
    - The system now finds parent domain credentials when on a subdomain (e.g., accessing `accounts.google.com` finds `google.com` credentials).
    - Maintains the ability to match specific subdomain credentials.
- **Timezone Conversion**: Added `format_timestamp` utility function to convert stored UTC timestamps to the user's local timezone in Credential, Secure Note, and Credit Card detail views.

### Fixed
- **Extension Connection (Native Host)**: 
    - Fixed incorrect path in the Native Messaging Host manifest pointing to a non-existent directory (`VaultKeeper-v2`).
    - Corrected Firefox extension ID in the installation script (`installer.py`).
    - Resolved syntax error in the bash wrapper generator script (`installer.py`).
    - Reinstalled host manifests for Chrome, Chromium, Firefox, and Zen Browser.
- **Credit Card UI**: Fixed layout issue where very long cardholder names broke the view. Implemented `ElidedLabel` with a stretch factor to automatically add ellipsis and fill available space elegantly.
- **HTML Rendering in Secure Notes**: Fixed rendering of notes containing HTML by using `QTextBrowser` instead of `QPlainTextEdit` to display formatted content correctly.

### Changed
- **Text Rendering**: Replaced `QLabel` with `QTextBrowser`/`QPlainTextEdit` in various detail panel sections for better text selection, link support, and content expansion.
- **Detail Layout**: Layout adjustments in detail panels (Secure Notes) to allow text content to expand vertically and fill the available window space.
