# Changelog

## [1.0.10] - 2026-01-28

### üîç Connection & Diagnostics
- **Redesigned Connection Tool**:
  - The "Repair Connection" dialog has been completely rebuilt to provide more transparency and control.
  - **Browser Detection**: Now displays all detected browser installations, including their exact paths (supporting Snap, Flatpak, and Standard installations).
  - **Manual Installation**: Added an "Advanced" mode to manually install the Native Host manifest to a custom path if automatic detection fails.
  - **Status Indicators**: Clearly shows which browser profiles are currently connected ("Installed" vs "Not Installed").
- **UI Improvements**: Fixed layout issues in the connection dialog where buttons were truncated and text was invisible on some themes.

### üêû Bug Fixes
- **Theme Stability**: Fixed a crash caused by a missing color attribute (`primary_hover`) in the theme system.
- **Path Resolution**: Improved logic for detecting browser configuration paths across different Linux package formats.

## [1.0.9] - 2026-01-28

### üîß Fixes & Polish
- **Settings UI Overhaul**:
  - Fixed cut-off text on "Repair Connection" and "Check for Updates" buttons by allowing dynamic sizing.
  - Resolved layout issues where labels for toggle switches (e.g., Auto-lock) were invisible or compressed.
  - Removed unused settings (Language, Notifications, Local Sync) for a cleaner experience.
- **Sidebar UX**:
  - Fixed the "Reopen Sidebar" button in the item list, which was previously failing to appear after closing the sidebar.
- **Stability**:
  - Fixed a crash in the "Repair Connection" tool on Linux caused by permission errors in the AppImage environment.

## [1.0.8] - 2026-01-24

### ü¶ä Browser Compatibility & Connection
- **Universal Browser Fix**: Resolved the persistent "Could not connect to VaultKeeper app" error affecting Firefox, Zen Browser, and other Gecko-based browsers.
  - Implemented global `stdout` redirection to prevent native messaging protocol corruption.
  - Eliminated interference from background logs and third-party library output.
- **Zen Browser Support**: Added official support for Zen Browser, including automatic detection of XDG configuration paths (`~/.config/zen`).
- **Connection Repair Tool**: Added a new "Browser Connection" section in **Settings > General** with a "Repair Connection" button to automatically fix extension issues without reinstalling.
- **Native Host Fixes**: Fixed an `Unknown action: update_credentials` error when updating passwords from the extension by aliasing the action to the save handler.

### üõ°Ô∏è Security & 2FA
- **Integrated TOTP Support**: 
  - Added new fields for **2FA Secret** and **Backup Codes** in the "New Item" / "Edit Item" modal.
  - The extension now automatically fetches and fills the current TOTP code when using "Auto-Fill".
- **Enhanced Credential Form**: Redesigned the "New Item" popup with a more compact, horizontal layout for better usability.

### Extension
- **Auto-Fill Improvements**:
  - Automatically fills TOTP codes if a secret is saved.
  - Fixed a race condition where the email field could be overwritten.
- **UI Polish**:
  - Horizontal layout for Username/Password fields.
  - Wider modal for better visibility of backup codes.

### Browser Extension
- **Editor Improvements**:
  - Added "Bullet List" and "Numbered List" buttons to the Secure Note editor toolbar.
  - Fixed excessive vertical spacing in notes display.
- **Copy as Markdown**: Added a "Copy as MD" button that converts the note content to Markdown format and copies it to the clipboard.

### Desktop UI Improvements
- **Detail Panels**:
  - Standardized "Edit" buttons across Secure Notes and Credit Cards to match the Credentials design (rounded, secondary color).
  - Added "Copy as Markdown" (MD) button to Secure Notes with visual feedback ("Copied!" with check icon).
- **Bug Fixes**:
  - Fixed a crash related to `QSize` import in detail panels.
  - Increased main window minimum size for better layout.

## [1.0.7] - 2026-01-21

### Linux Improvements
- **Corre√ß√£o Cr√≠tica no Atualizador**: O auto-update no Linux agora substitui corretamente o arquivo AppImage antigo pela nova vers√£o, reiniciando a aplica√ß√£o automaticamente.
- **Suporte ao AppImageLauncher**: A atualiza√ß√£o agora √© totalmente compat√≠vel com o AppImageLauncher, preservando atalhos e √≠cones do sistema ao atualizar. O arquivo novo substitui o antigo no diret√≥rio de instala√ß√£o (ex: `~/Applications`).

## [1.0.6] - 2026-01-21

### Performance & Stability
- **Smoother Loading Experience**: ADDED multithreading and multiprocessing support to handle heavy cryptographic operations (Argon2 key derivation) without freezing the user interface.
- **Optimized List Rendering**: Implemented "Batch Loading" for the main credential list, populating items in small chunks to keep the application responsive during startup.
- **Fluid Animations**:  upgraded the loading spinner animation to run at 60fps.

### Security
- **Encryption Upgrade**: Switched from PBKDF2 to Scrypt (N=16384) to eliminate UI freezing during unlock operations while maintaining strong security.
- **Database Migration**: Added `migrate_to_scrypt.py` script to automatically upgrade existing vaults to the new encryption standard.

### New Features
- **Watchtower Dashboard**: 
  - Added a comprehensive security center to analyze vault health.
  - Automatic scanning for compromised passwords (HIBP integration).
  - Visual indicators for weak, reused, or leaked passwords.
  - "Action Required" tab to quickly address security vulnerabilities.

- **Advanced Password Generator**:
  - New dedicated view for generating secure passwords.
  - Customizable options (length, special characters, numbers).
  - "Security Pro-Tip" educational cards.
  - "Use Password" workflow to immediately create a new login with the generated secret.

### Improvements
- **UI Refinements**: 
  - Full-screen loading overlay that blocks interaction while data loads securely.
  - Restructured `VaultWidget` for better modularity and maintainability.
  - Enhanced Sidebar execution and layout.
