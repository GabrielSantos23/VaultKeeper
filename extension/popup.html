<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VaultKeeper</title>
    <link rel="stylesheet" href="variables.css" />
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="app">
      <div id="loading-view" class="view loading-view">
        <div class="spinner"></div>
        <p>Connecting...</p>
      </div>

      <div id="locked-view" class="view locked-view hidden">
        <div class="lock-container">
          <div class="lock-icon">üîê</div>
          <h2>VaultKeeper</h2>
          <p class="subtitle">Enter your master password</p>
          <div class="input-group">
            <input
              type="password"
              id="master-password"
              placeholder="Master Password"
              autofocus
            />
          </div>
          <button id="unlock-btn" class="btn-primary full-width">Unlock</button>
          <p id="error-message" class="error hidden"></p>
        </div>
      </div>

      <div id="disconnected-view" class="view disconnected-view hidden">
        <div class="disconnect-container">
          <div class="disconnect-icon">‚ö†Ô∏è</div>
          <h3>Connection Failed</h3>
          <p>Could not connect to VaultKeeper app</p>
          <button id="retry-btn" class="btn-secondary">Retry</button>
        </div>
      </div>

      <div id="setup-view" class="view setup-view hidden">
        <div class="setup-hero-icon">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
            <path d="M12 8v4" />
            <path d="M12 16h.01" />
          </svg>
        </div>

        <h2 class="setup-title">Welcome to VaultKeeper</h2>
        <p class="setup-description">
          Your secure vault is almost ready. Follow these steps to complete the
          setup.
        </p>

        <div class="setup-steps">
          <div class="setup-step">
            <div class="step-number">1</div>
            <div class="step-text">
              Open the <strong>VaultKeeper Desktop App</strong>
            </div>
          </div>
          <div class="setup-step">
            <div class="step-number">2</div>
            <div class="step-text">
              Create your <strong>Master Password</strong>
            </div>
          </div>
          <div class="setup-step">
            <div class="step-number">3</div>
            <div class="step-text">
              Return here to start using the extension
            </div>
          </div>
        </div>

        <div class="status-indicator">
          <div class="status-dot"></div>
          <span class="status-text">Waiting for setup...</span>
        </div>
      </div>

      <div id="unlocked-view" class="view unlocked-view hidden">
        <header class="top-bar">
          <div class="search-container">
            <svg
              class="search-icon"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
            </svg>
            <input
              type="text"
              id="search-input"
              placeholder="Search VaultKeeper"
            />
          </div>
          <div class="top-actions">
            <button id="refresh-btn" class="icon-btn" title="Sync / Refresh">
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M23 4v6h-6"></path>
                <path d="M1 20v-6h6"></path>
                <path
                  d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"
                ></path>
              </svg>
            </button>
            <button
              id="generator-btn"
              class="icon-btn"
              title="Password Generator"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 -960 960 960"
                width="18"
                height="18"
                fill="currentColor"
              >
                <path
                  d="M80-200v-80h800v80H80Zm46-242-52-30 34-60H40v-60h68l-34-58 52-30 34 58 34-58 52 30-34 58h68v60h-68l34 60-52 30-34-60-34 60Zm320 0-52-30 34-60h-68v-60h68l-34-58 52-30 34 58 34-58 52 30-34 58h68v60h-68l34 60-52 30-34-60-34 60Zm320 0-52-30 34-60h-68v-60h68l-34-58 52-30 34 58 34-58 52 30-34 58h68v60h-68l34 60-52 30-34-60-34 60Z"
                />
              </svg>
            </button>
            <button id="lock-btn" class="icon-btn" title="Lock">
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"
                />
              </svg>
            </button>
            <button id="add-btn" class="btn-primary-small">
              <svg
                width="14"
                height="14"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
              >
                <path d="M12 5v14M5 12h14" />
              </svg>
              New Item
            </button>
          </div>
        </header>

        <div class="split-view">
          <aside class="sidebar">
            <div class="nav-tabs">
              <button class="nav-tab active">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <rect
                    x="3"
                    y="11"
                    width="18"
                    height="11"
                    rx="2"
                    ry="2"
                  ></rect>
                  <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
                All Items
              </button>
              <button id="nav-cards-btn" class="nav-tab">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <rect x="1" y="4" width="22" height="16" rx="2" ry="2" />
                  <line x1="1" y1="10" x2="23" y2="10" />
                </svg>
                Cards
              </button>
              <button id="nav-notes-btn" class="nav-tab">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                  ></path>
                  <polyline points="14 2 14 8 20 8"></polyline>
                  <line x1="16" y1="13" x2="8" y2="13"></line>
                  <line x1="16" y1="17" x2="8" y2="17"></line>
                  <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
                Notes
              </button>
            </div>
            <div id="credentials-list" class="credentials-list">
              <div id="credentials-loading" class="credentials-loading">
                <svg class="loading-spinner-svg" viewBox="0 0 50 50">
                  <circle
                    class="spinner-path"
                    cx="25"
                    cy="25"
                    r="20"
                    fill="none"
                    stroke-width="4"
                  />
                </svg>
                <span>Loading...</span>
              </div>
            </div>
          </aside>

          <main class="detail-panel">
            <div id="empty-state" class="empty-detail">
              <div class="empty-icon">üîê</div>
              <p>Select an item to view details</p>
            </div>

            <div id="detail-content" class="detail-content hidden">
              <div class="detail-header">
                <div class="detail-header-row">
                  <span class="breadcrumb">Private</span>
                  <div class="detail-actions">
                    <button id="fill-btn" class="btn-outline">
                      Open & Fill
                    </button>
                    <button id="menu-btn" class="icon-btn-small">‚ãÆ</button>
                  </div>
                </div>
                <div class="detail-title-row">
                  <div id="detail-favicon" class="detail-favicon">üåê</div>
                  <div class="detail-title-info">
                    <h2 id="detail-title">Title</h2>
                  </div>
                </div>
              </div>

              <div class="detail-fields">
                <div class="field-group">
                  <label>username</label>
                  <div class="field-value">
                    <span id="detail-username">username@example.com</span>
                    <button class="copy-btn" data-copy="username" title="Copy">
                      <svg
                        width="16"
                        height="16"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <rect x="9" y="9" width="13" height="13" rx="2"></rect>
                        <path
                          d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
                        ></path>
                      </svg>
                    </button>
                  </div>
                </div>

                <div class="field-group">
                  <label>password</label>
                  <div class="field-value">
                    <span id="detail-password" class="password-masked"
                      >‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span
                    >
                    <div class="password-actions">
                      <span class="strength-badge good">Fantastic</span>
                      <button
                        id="toggle-password"
                        class="icon-btn-tiny"
                        title="Show"
                      >
                        <svg
                          width="16"
                          height="16"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                        >
                          <path
                            d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"
                          ></path>
                          <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                      </button>
                      <button
                        class="copy-btn"
                        data-copy="password"
                        title="Copy"
                      >
                        <svg
                          width="16"
                          height="16"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                        >
                          <rect
                            x="9"
                            y="9"
                            width="13"
                            height="13"
                            rx="2"
                          ></rect>
                          <path
                            d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
                          ></path>
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>

                <div class="field-group">
                  <label>website</label>
                  <div class="field-value">
                    <a id="detail-url" href="#" target="_blank" class="url-link"
                      >https://example.com</a
                    >
                    <button class="copy-btn" data-copy="url" title="Copy">
                      <svg
                        width="16"
                        height="16"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <rect x="9" y="9" width="13" height="13" rx="2"></rect>
                        <path
                          d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
                        ></path>
                      </svg>
                    </button>
                  </div>
                </div>

                <div id="totp-field-group" class="field-group hidden">
                  <label>two-factor code</label>
                  <div class="field-value totp-value">
                    <span id="detail-totp-code" class="totp-code">--- ---</span>
                    <div class="totp-timer">
                      <span id="detail-totp-countdown" class="totp-countdown"
                        >30s</span
                      >
                      <svg
                        id="totp-progress"
                        class="totp-progress-ring"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                      >
                        <circle
                          class="totp-progress-bg"
                          cx="12"
                          cy="12"
                          r="10"
                          fill="none"
                          stroke-width="2"
                        />
                        <circle
                          id="totp-progress-circle"
                          class="totp-progress-circle"
                          cx="12"
                          cy="12"
                          r="10"
                          fill="none"
                          stroke-width="2"
                          stroke-linecap="round"
                        />
                      </svg>
                    </div>
                    <button class="copy-btn" data-copy="totp" title="Copy TOTP">
                      <svg
                        width="16"
                        height="16"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <rect x="9" y="9" width="13" height="13" rx="2"></rect>
                        <path
                          d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
                        ></path>
                      </svg>
                    </button>
                  </div>
                </div>

                <div id="backup-field-group" class="field-group hidden">
                  <label>backup 2fa code</label>
                  <div class="field-value">
                    <span id="detail-backup-codes" class="backup-codes-masked"
                      >‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span
                    >
                    <button
                      id="toggle-backup"
                      class="icon-btn-tiny"
                      title="Show/Hide"
                    >
                      <svg
                        width="16"
                        height="16"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"
                        ></path>
                        <circle cx="12" cy="12" r="3"></circle>
                      </svg>
                    </button>
                    <button
                      class="copy-btn"
                      data-copy="backup"
                      title="Copy Backup Codes"
                    >
                      <svg
                        width="16"
                        height="16"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <rect x="9" y="9" width="13" height="13" rx="2"></rect>
                        <path
                          d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
                        ></path>
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </main>
        </div>
      </div>

      <div id="generator-view" class="view generator-view hidden">
        <div class="generator-container">
          <div class="generator-header">
            <button id="generator-back-btn" class="icon-btn" title="Back">
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M19 12H5M12 19l-7-7 7-7" />
              </svg>
            </button>
            <h2>Password Generator</h2>
          </div>

          <div class="generator-content">
            <div class="generator-actions-top">
              <button id="gen-copy-btn" class="btn-outline-gen">Copy</button>
              <button id="gen-refresh-btn" class="icon-btn" title="Regenerate">
                <svg
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="M23 4v6h-6M1 20v-6h6" />
                  <path
                    d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"
                  />
                </svg>
              </button>
              <button id="gen-autofill-btn" class="btn-primary-gen">
                Autofill
              </button>
            </div>

            <div class="generator-password-display">
              <span id="gen-password-text" class="gen-password-text"></span>
              <div class="gen-strength-bar">
                <div id="gen-strength-fill" class="gen-strength-fill"></div>
              </div>
            </div>

            <div class="generator-options">
              <div class="gen-option-row">
                <label>Type</label>
                <select id="gen-type-select">
                  <option value="random">Random Password</option>
                  <option value="memorable">Memorable Password</option>
                </select>
              </div>

              <div class="gen-option-row">
                <label>Characters</label>
                <div class="gen-slider-container">
                  <input
                    type="range"
                    id="gen-length-slider"
                    min="8"
                    max="64"
                    value="20"
                  />
                  <input
                    type="number"
                    id="gen-length-input"
                    min="8"
                    max="64"
                    value="20"
                  />
                </div>
              </div>

              <div class="gen-option-row gen-toggle-row">
                <label>Numbers</label>
                <label class="gen-toggle">
                  <input type="checkbox" id="gen-numbers-toggle" checked />
                  <span class="gen-toggle-slider"></span>
                </label>
              </div>

              <div class="gen-option-row gen-toggle-row">
                <label>Symbols</label>
                <label class="gen-toggle">
                  <input type="checkbox" id="gen-symbols-toggle" checked />
                  <span class="gen-toggle-slider"></span>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Credit Cards View -->
      <div id="cards-view" class="view cards-view hidden">
        <div class="cards-container">
          <div class="cards-header">
            <button id="cards-back-btn" class="icon-btn" title="Back">
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M19 12H5M12 19l-7-7 7-7" />
              </svg>
            </button>
            <h2>Credit Cards</h2>
            <button id="add-card-btn" class="btn-primary-small">
              <svg
                width="14"
                height="14"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
              >
                <path d="M12 5v14M5 12h14" />
              </svg>
              Add
            </button>
          </div>
          <div class="cards-split-view">
            <aside class="cards-sidebar">
              <div class="nav-tabs">
                <button id="nav-home-from-cards" class="nav-tab">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <rect
                      x="3"
                      y="11"
                      width="18"
                      height="11"
                      rx="2"
                      ry="2"
                    ></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                  </svg>
                  All Items
                </button>
                <button class="nav-tab active">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <rect x="1" y="4" width="22" height="16" rx="2" ry="2" />
                    <line x1="1" y1="10" x2="23" y2="10" />
                  </svg>
                  Cards
                </button>
                <button id="nav-notes-from-cards" class="nav-tab">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                    ></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                  </svg>
                  Notes
                </button>
              </div>
              <div id="cards-list" class="cards-list">
                <div id="cards-loading" class="credentials-loading">
                  <svg class="loading-spinner-svg" viewBox="0 0 50 50">
                    <circle
                      class="spinner-path"
                      cx="25"
                      cy="25"
                      r="20"
                      fill="none"
                      stroke-width="4"
                    />
                  </svg>
                  <span>Loading...</span>
                </div>
              </div>
            </aside>
            <main class="cards-detail-panel">
              <div id="card-empty-state" class="empty-detail">
                <div class="empty-icon">üí≥</div>
                <p>Select a card to view details</p>
              </div>
              <div id="card-detail-panel" class="detail-content hidden">
                <div class="card-visual">
                  <div class="card-visual-bg">
                    <div class="card-visual-number" id="card-detail-number">
                      ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢
                    </div>
                    <div class="card-visual-info">
                      <div class="card-visual-holder">
                        <span class="label">CARDHOLDER</span>
                        <span id="card-detail-holder">Name</span>
                      </div>
                      <div class="card-visual-expiry">
                        <span class="label">EXPIRES</span>
                        <span id="card-detail-expiry">MM/YY</span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="card-fields">
                  <div class="field-group">
                    <label>Card Title</label>
                    <div class="field-value">
                      <span id="card-detail-title">Card Name</span>
                    </div>
                  </div>
                  <div class="field-group">
                    <label>Card Number</label>
                    <div class="field-value">
                      <span id="card-number-display">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
                      <button
                        class="copy-btn"
                        data-copy-card="number"
                        title="Copy"
                      >
                        <svg
                          width="16"
                          height="16"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                        >
                          <rect
                            x="9"
                            y="9"
                            width="13"
                            height="13"
                            rx="2"
                          ></rect>
                          <path
                            d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
                          ></path>
                        </svg>
                      </button>
                    </div>
                  </div>
                  <div class="field-group">
                    <label>CVV</label>
                    <div class="field-value">
                      <span id="card-detail-cvv">‚Ä¢‚Ä¢‚Ä¢</span>
                      <button
                        id="toggle-card-cvv"
                        class="icon-btn-tiny"
                        title="Show"
                      >
                        <svg
                          width="16"
                          height="16"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                        >
                          <path
                            d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"
                          ></path>
                          <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                      </button>
                      <button
                        class="copy-btn"
                        data-copy-card="cvv"
                        title="Copy"
                      >
                        <svg
                          width="16"
                          height="16"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                        >
                          <rect
                            x="9"
                            y="9"
                            width="13"
                            height="13"
                            rx="2"
                          ></rect>
                          <path
                            d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
                          ></path>
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="card-actions">
                  <button id="autofill-card-btn" class="btn-primary">
                    Autofill Card
                  </button>
                  <button id="delete-card-btn" class="btn-ghost danger">
                    Delete
                  </button>
                </div>
              </div>
              <!-- Card Editor Form -->
              <div id="card-editor" class="card-editor hidden">
                <h3 id="card-editor-title">Add Credit Card</h3>
                <form id="card-form">
                  <div class="form-group">
                    <label>Card Title</label>
                    <input
                      type="text"
                      id="card-title-input"
                      placeholder="e.g. Personal Visa"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label>Cardholder Name</label>
                    <input
                      type="text"
                      id="card-holder-input"
                      placeholder="Name on card"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label>Card Number</label>
                    <input
                      type="text"
                      id="card-number-input"
                      placeholder="1234 5678 9012 3456"
                      maxlength="19"
                      required
                    />
                  </div>
                  <div class="form-row">
                    <div class="form-group">
                      <label>Expiry Date</label>
                      <input
                        type="text"
                        id="card-expiry-input"
                        placeholder="MM/YY"
                        maxlength="5"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label>CVV</label>
                      <input
                        type="text"
                        id="card-cvv-input"
                        placeholder="123"
                        maxlength="4"
                        required
                      />
                    </div>
                  </div>
                  <div class="form-group">
                    <label>Notes (optional)</label>
                    <textarea
                      id="card-notes-input"
                      rows="2"
                      placeholder="Additional notes..."
                    ></textarea>
                  </div>
                  <div class="card-editor-actions">
                    <button
                      type="button"
                      id="cancel-card-btn"
                      class="btn-ghost"
                    >
                      Cancel
                    </button>
                    <button type="submit" class="btn-primary">Save Card</button>
                  </div>
                </form>
              </div>
            </main>
          </div>
        </div>
      </div>

      <!-- Secure Notes View -->
      <div id="notes-view" class="view notes-view hidden">
        <div class="notes-container">
          <div class="notes-header">
            <button id="notes-back-btn" class="icon-btn" title="Back">
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M19 12H5M12 19l-7-7 7-7" />
              </svg>
            </button>
            <h2>Secure Notes</h2>
            <button id="add-note-btn" class="btn-primary-small">
              <svg
                width="14"
                height="14"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
              >
                <path d="M12 5v14M5 12h14" />
              </svg>
              Add
            </button>
          </div>
          <div class="notes-split-view">
            <aside class="notes-sidebar">
              <div class="nav-tabs">
                <button id="nav-home-from-notes" class="nav-tab">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <rect
                      x="3"
                      y="11"
                      width="18"
                      height="11"
                      rx="2"
                      ry="2"
                    ></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                  </svg>
                  All Items
                </button>
                <button id="nav-cards-from-notes" class="nav-tab">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <rect x="1" y="4" width="22" height="16" rx="2" ry="2" />
                    <line x1="1" y1="10" x2="23" y2="10" />
                  </svg>
                  Cards
                </button>
                <button class="nav-tab active">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                    ></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                  </svg>
                  Notes
                </button>
              </div>
              <div id="notes-list" class="notes-list">
                <div id="notes-loading" class="credentials-loading">
                  <svg class="loading-spinner-svg" viewBox="0 0 50 50">
                    <circle
                      class="spinner-path"
                      cx="25"
                      cy="25"
                      r="20"
                      fill="none"
                      stroke-width="4"
                    />
                  </svg>
                  <span>Loading...</span>
                </div>
              </div>
            </aside>
            <main class="notes-detail-panel">
              <div id="note-empty-state" class="empty-detail">
                <div class="empty-icon">üìù</div>
                <p>Select a note to view details</p>
              </div>
              <div id="note-detail-panel" class="detail-content hidden">
                <div class="note-detail-header">
                  <div class="header-main">
                    <h3 id="note-detail-title">Note Title</h3>
                    <span id="note-detail-date" class="note-date"></span>
                  </div>
                  <div class="note-actions-inline">
                    <button
                      class="icon-btn-small"
                      id="copy-md-note-btn"
                      title="Copy as MD"
                    >
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"
                        ></path>
                        <rect
                          x="8"
                          y="2"
                          width="8"
                          height="4"
                          rx="1"
                          ry="1"
                        ></rect>
                      </svg>
                    </button>
                    <button
                      class="icon-btn-small"
                      id="edit-note-btn"
                      title="Edit"
                    >
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
                        ></path>
                        <path
                          d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
                        ></path>
                      </svg>
                    </button>
                    <button
                      class="icon-btn-small danger"
                      id="delete-note-btn"
                      title="Delete"
                    >
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path d="M3 6h18"></path>
                        <path
                          d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
                        ></path>
                      </svg>
                    </button>
                  </div>
                </div>
                <div id="note-detail-content" class="note-content"></div>
              </div>
              <div id="note-editor" class="note-editor hidden">
                <div class="note-editor-header">
                  <input
                    type="text"
                    id="note-editor-title"
                    placeholder="Note title"
                    class="note-title-input"
                  />
                </div>
                <div class="note-editor-toolbar">
                  <button id="format-bold" class="toolbar-btn" title="Bold">
                    <svg
                      width="14"
                      height="14"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <path
                        d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"
                      />
                    </svg>
                  </button>
                  <button id="format-italic" class="toolbar-btn" title="Italic">
                    <svg
                      width="14"
                      height="14"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <path
                        d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"
                      />
                    </svg>
                  </button>
                  <button
                    id="format-underline"
                    class="toolbar-btn"
                    title="Underline"
                  >
                    <svg
                      width="14"
                      height="14"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <path
                        d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"
                      />
                    </svg>
                  </button>
                  <div class="toolbar-divider"></div>
                  <button id="format-code" class="toolbar-btn" title="Code">
                    <svg
                      width="14"
                      height="14"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <polyline points="16 18 22 12 16 6"></polyline>
                      <polyline points="8 6 2 12 8 18"></polyline>
                    </svg>
                  </button>
                  <div class="toolbar-divider"></div>
                  <button
                    id="format-ul"
                    class="toolbar-btn"
                    title="Bullet List"
                  >
                    <svg
                      width="14"
                      height="14"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <path
                        d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"
                      />
                    </svg>
                  </button>
                  <button
                    id="format-ol"
                    class="toolbar-btn"
                    title="Numbered List"
                  >
                    <svg
                      width="14"
                      height="14"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <path
                        d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"
                      />
                      <!-- Note: reusing generic list icon for simplicity or replace with specific ol icon -->
                      <path
                        d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zM7 5v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"
                      />
                    </svg>
                  </button>
                  <div class="toolbar-divider"></div>
                  <button id="format-h1" class="toolbar-btn" title="Heading 1">
                    H1
                  </button>
                  <button id="format-h2" class="toolbar-btn" title="Heading 2">
                    H2
                  </button>
                  <button id="format-h3" class="toolbar-btn" title="Heading 3">
                    H3
                  </button>
                  <div class="toolbar-divider"></div>
                  <button id="format-link" class="toolbar-btn" title="Link">
                    <svg
                      width="14"
                      height="14"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <path
                        d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"
                      ></path>
                      <path
                        d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"
                      ></path>
                    </svg>
                  </button>
                </div>
                <div
                  id="note-editor-content"
                  class="note-editor-content"
                  contenteditable="true"
                  placeholder="Write your note..."
                ></div>
                <div class="note-editor-actions">
                  <button id="cancel-note-btn" class="btn-ghost">Cancel</button>
                  <button id="save-note-btn" class="btn-primary">
                    Save Note
                  </button>
                </div>
              </div>
            </main>
          </div>
        </div>
      </div>

      <div id="modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
          <div class="modal-header">
            <h3 id="modal-title">New Item</h3>
            <button id="modal-close" class="modal-close">&times;</button>
          </div>
          <form id="credential-form">
            <div class="form-group">
              <label>Website</label>
              <input
                type="text"
                id="cred-domain"
                placeholder="example.com"
                required
              />
            </div>
            <div class="form-group">
              <label>Username</label>
              <input
                type="text"
                id="cred-username"
                placeholder="user@email.com"
                required
              />
            </div>
            <div class="form-group">
              <label>Password</label>
              <div class="input-with-actions">
                <input type="password" id="cred-password" required />
                <button
                  type="button"
                  id="generate-btn"
                  class="icon-btn-small"
                  title="Generate"
                >
                  üé≤
                </button>
                <button
                  type="button"
                  id="toggle-btn"
                  class="icon-btn-small"
                  title="Show"
                >
                  üëÅ
                </button>
              </div>
            </div>
            <div class="form-group">
              <label>Notes (optional)</label>
              <textarea id="cred-notes" rows="2"></textarea>
            </div>
            <div class="modal-actions">
              <button type="button" id="cancel-btn" class="btn-ghost">
                Cancel
              </button>
              <button type="submit" class="btn-primary">Save</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script src="password_strength.js"></script>
    <script src="popup.js"></script>
    <script src="cards.js"></script>
    <script src="notes.js"></script>
  </body>
</html>
